{"version":3,"sources":["../../../../../../../src/main/resources/META-INF/resources/document_library/js/legacy/main.js"],"names":["AUI","add","A","Lang","WIN","config","win","HTML5_UPLOAD","File","FormData","XMLHttpRequest","TPL_MOVE_FORM","DocumentLibrary","Component","create","ATTRS","downloadEntryUrl","validator","isString","editEntryUrl","form","isObject","openViewMoreFileEntryTypesURL","searchContainerId","selectFileEntryTypeURL","selectFolderURL","trashEnabled","isBoolean","viewFileEntryURL","AUGMENTS","Liferay","PortletBase","EXTENDS","Base","NAME","prototype","_handleSearchContainerRowToggled","event","instance","selectedElements","elements","allSelectedElements","size","_selectedFileEntries","attr","_moveCurrentSelection","newFolderId","get","node","actionUrl","NS","val","bulkSelection","_searchContainer","select","submitForm","_moveSingleElement","parameterName","parameterValue","namespace","originalForm","redirectUrl","formNode","Node","sub","_moveToFolder","obj","dropTarget","targetItem","selectedItems","folderId","indexOf","one","_moveToTrash","_processAction","_openDocument","Util","openDocument","webDavUrl","exception","errorMessage","Language","message","openMSOfficeError","ns","setHTML","removeClass","_openModalCategories","editCategoriesComponent","component","open","getFolderId","_openModalMove","getAllSelectedElements","filter","showFolderDialog","_openModalTags","editTagsComponent","_plugUpload","plug","DocumentLibraryUpload","appViewEntryTemplates","columnNames","dimensions","folders","displayStyle","entriesContainer","_entriesContainer","_folderId","maxFileSize","redirect","scopeGroupId","uploadURL","action","url","location","href","method","destructor","Array","invoke","_eventHandles","_documentLibraryContainer","purge","handleActionItemClicked","data","item","confirm","DocumentLibraryCheckin","showDialog","versionIncrease","changeLog","handleCreationMenuMoreButtonClicked","preventDefault","openWindow","dialog","destroyOnHide","modal","id","title","uri","handleFilterItemClicked","itemData","Loader","require","ItemSelectorDialog","itemSelectorDialog","buttonAddLabel","eventName","on","selectedItem","addParams","initializer","eventHandles","documentLibraryContainer","byId","_eventDataRequest","searchContainer","SearchContainer","registerAction","bind","push","foldersConfig","defaultParentFolderId","_config","uploadable","themeDisplay","isSignedIn","inDoc","getDoc","once","dialogTitle","selectEntity","constrain","width","folderid","Portlet","requires"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2000-present Liferay, Inc. All rights reserved.\n *\n * This library is free software; you can redistribute it and/or modify it under\n * the terms of the GNU Lesser General Public License as published by the Free\n * Software Foundation; either version 2.1 of the License, or (at your option)\n * any later version.\n *\n * This library is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\n * FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more\n * details.\n */\n\nAUI.add(\n\t'liferay-document-library',\n\tA => {\n\t\tvar Lang = A.Lang;\n\n\t\tvar WIN = A.config.win;\n\n\t\tvar HTML5_UPLOAD =\n\t\t\tWIN && WIN.File && WIN.FormData && WIN.XMLHttpRequest;\n\n\t\tvar TPL_MOVE_FORM =\n\t\t\t'<form action=\"{actionUrl}\" method=\"POST\"><input name=\"{namespace}cmd\" value=\"move\"/>' +\n\t\t\t'<input name=\"{namespace}newFolderId\" value=\"{newFolderId}\"/>' +\n\t\t\t'<input name=\"{namespace}{parameterName}\" value=\"{parameterValue}\"/>' +\n\t\t\t'<input name=\"{namespace}redirect\" value=\"{redirectUrl}\"/>' +\n\t\t\t'</form>';\n\n\t\tvar DocumentLibrary = A.Component.create({\n\t\t\tATTRS: {\n\t\t\t\tdownloadEntryUrl: {\n\t\t\t\t\tvalidator: Lang.isString\n\t\t\t\t},\n\n\t\t\t\teditEntryUrl: {\n\t\t\t\t\tvalidator: Lang.isString\n\t\t\t\t},\n\n\t\t\t\tform: {\n\t\t\t\t\tvalidator: Lang.isObject\n\t\t\t\t},\n\n\t\t\t\topenViewMoreFileEntryTypesURL: {\n\t\t\t\t\tvalidator: Lang.isString\n\t\t\t\t},\n\n\t\t\t\tsearchContainerId: {\n\t\t\t\t\tvalidator: Lang.isString\n\t\t\t\t},\n\n\t\t\t\tselectFileEntryTypeURL: {\n\t\t\t\t\tvalidator: Lang.isString\n\t\t\t\t},\n\n\t\t\t\tselectFolderURL: {\n\t\t\t\t\tvalidator: Lang.isString\n\t\t\t\t},\n\n\t\t\t\ttrashEnabled: {\n\t\t\t\t\tvalidator: Lang.isBoolean\n\t\t\t\t},\n\n\t\t\t\tviewFileEntryURL: {\n\t\t\t\t\tvalidator: Lang.isString\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tAUGMENTS: [Liferay.PortletBase],\n\n\t\t\tEXTENDS: A.Base,\n\n\t\t\tNAME: 'documentlibrary',\n\n\t\t\tprototype: {\n\t\t\t\t_handleSearchContainerRowToggled(event) {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar selectedElements = event.elements.allSelectedElements;\n\n\t\t\t\t\tif (selectedElements.size() > 0) {\n\t\t\t\t\t\tinstance._selectedFileEntries = selectedElements.attr(\n\t\t\t\t\t\t\t'value'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tinstance._selectedFileEntries = [];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t_moveCurrentSelection(newFolderId) {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar form = instance.get('form').node;\n\n\t\t\t\t\tvar actionUrl = instance.get('editEntryUrl');\n\n\t\t\t\t\tform.attr('action', actionUrl);\n\t\t\t\t\tform.attr('method', 'POST');\n\t\t\t\t\tform.attr('enctype', 'multipart/form-data');\n\n\t\t\t\t\tform.get(instance.NS + 'cmd').val('move');\n\t\t\t\t\tform.get(instance.NS + 'newFolderId').val(newFolderId);\n\n\t\t\t\t\tvar bulkSelection =\n\t\t\t\t\t\tinstance._searchContainer.select &&\n\t\t\t\t\t\tinstance._searchContainer.select.get('bulkSelection');\n\n\t\t\t\t\tform.get(instance.NS + 'selectAll').val(bulkSelection);\n\n\t\t\t\t\tsubmitForm(form, actionUrl, false);\n\t\t\t\t},\n\n\t\t\t\t_moveSingleElement(newFolderId, parameterName, parameterValue) {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar actionUrl = instance.get('editEntryUrl');\n\t\t\t\t\tvar namespace = instance.NS;\n\t\t\t\t\tvar originalForm = instance.get('form').node;\n\t\t\t\t\tvar redirectUrl = originalForm\n\t\t\t\t\t\t.get(namespace + 'redirect')\n\t\t\t\t\t\t.val();\n\n\t\t\t\t\tvar formNode = A.Node.create(\n\t\t\t\t\t\tA.Lang.sub(TPL_MOVE_FORM, {\n\t\t\t\t\t\t\tactionUrl,\n\t\t\t\t\t\t\tnamespace,\n\t\t\t\t\t\t\tnewFolderId,\n\t\t\t\t\t\t\tparameterName,\n\t\t\t\t\t\t\tparameterValue,\n\t\t\t\t\t\t\tredirectUrl\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tsubmitForm(formNode, actionUrl, false);\n\t\t\t\t},\n\n\t\t\t\t_moveToFolder(obj) {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar dropTarget = obj.targetItem;\n\n\t\t\t\t\tvar selectedItems = obj.selectedItems;\n\n\t\t\t\t\tvar folderId = dropTarget.attr('data-folder-id');\n\n\t\t\t\t\tif (folderId) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!instance._searchContainer.select ||\n\t\t\t\t\t\t\tselectedItems.indexOf(\n\t\t\t\t\t\t\t\tdropTarget.one('input[type=checkbox]')\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tinstance._moveCurrentSelection(folderId);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t_moveToTrash() {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tinstance._processAction(\n\t\t\t\t\t\t'move_to_trash',\n\t\t\t\t\t\tinstance.get('editEntryUrl')\n\t\t\t\t\t);\n\t\t\t\t},\n\n\t\t\t\t_openDocument(event) {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tLiferay.Util.openDocument(\n\t\t\t\t\t\tevent.webDavUrl,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\texception => {\n\t\t\t\t\t\t\tvar errorMessage = Lang.sub(\n\t\t\t\t\t\t\t\tLiferay.Language.get(\n\t\t\t\t\t\t\t\t\t'cannot-open-the-requested-document-due-to-the-following-reason'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[exception.message]\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tvar openMSOfficeError = instance.ns(\n\t\t\t\t\t\t\t\t'openMSOfficeError'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (openMSOfficeError) {\n\t\t\t\t\t\t\t\topenMSOfficeError.setHTML(errorMessage);\n\n\t\t\t\t\t\t\t\topenMSOfficeError.removeClass('hide');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t},\n\n\t\t\t\t_openModalCategories() {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar editCategoriesComponent = Liferay.component(\n\t\t\t\t\t\tinstance.NS + 'EditCategoriesComponent'\n\t\t\t\t\t);\n\n\t\t\t\t\tif (editCategoriesComponent) {\n\t\t\t\t\t\tvar bulkSelection =\n\t\t\t\t\t\t\tinstance._searchContainer.select &&\n\t\t\t\t\t\t\tinstance._searchContainer.select.get(\n\t\t\t\t\t\t\t\t'bulkSelection'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\teditCategoriesComponent.open(\n\t\t\t\t\t\t\tinstance._selectedFileEntries,\n\t\t\t\t\t\t\tbulkSelection,\n\t\t\t\t\t\t\tinstance.getFolderId()\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t_openModalMove() {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar selectedItems = 0;\n\n\t\t\t\t\tif (instance._searchContainer.select) {\n\t\t\t\t\t\tselectedItems = instance._searchContainer.select\n\t\t\t\t\t\t\t.getAllSelectedElements()\n\t\t\t\t\t\t\t.filter(':enabled')\n\t\t\t\t\t\t\t.size();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.showFolderDialog(selectedItems);\n\t\t\t\t},\n\n\t\t\t\t_openModalTags() {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar editTagsComponent = Liferay.component(\n\t\t\t\t\t\tinstance.NS + 'EditTagsComponent'\n\t\t\t\t\t);\n\n\t\t\t\t\tif (editTagsComponent) {\n\t\t\t\t\t\tvar bulkSelection =\n\t\t\t\t\t\t\tinstance._searchContainer.select &&\n\t\t\t\t\t\t\tinstance._searchContainer.select.get(\n\t\t\t\t\t\t\t\t'bulkSelection'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\teditTagsComponent.open(\n\t\t\t\t\t\t\tinstance._selectedFileEntries,\n\t\t\t\t\t\t\tbulkSelection,\n\t\t\t\t\t\t\tinstance.getFolderId()\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t_plugUpload(event, config) {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tinstance.plug(Liferay.DocumentLibraryUpload, {\n\t\t\t\t\t\tappViewEntryTemplates: config.appViewEntryTemplates,\n\t\t\t\t\t\tcolumnNames: config.columnNames,\n\t\t\t\t\t\tdimensions: config.folders.dimensions,\n\t\t\t\t\t\tdisplayStyle: config.displayStyle,\n\t\t\t\t\t\tentriesContainer: instance._entriesContainer,\n\t\t\t\t\t\tfolderId: instance._folderId,\n\t\t\t\t\t\tmaxFileSize: config.maxFileSize,\n\t\t\t\t\t\tredirect: config.redirect,\n\t\t\t\t\t\tscopeGroupId: config.scopeGroupId,\n\t\t\t\t\t\tuploadURL: config.uploadURL,\n\t\t\t\t\t\tviewFileEntryURL: config.viewFileEntryURL\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t_processAction(action, url, redirectUrl) {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar namespace = instance.NS;\n\n\t\t\t\t\tvar form = instance.get('form').node;\n\n\t\t\t\t\tredirectUrl = redirectUrl || location.href;\n\n\t\t\t\t\tform.attr('method', instance.get('form').method);\n\n\t\t\t\t\tif (form.get(namespace + 'javax-portlet-action')) {\n\t\t\t\t\t\tform.get(namespace + 'javax-portlet-action').val(\n\t\t\t\t\t\t\taction\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tform.get(namespace + 'cmd').val(action);\n\t\t\t\t\t}\n\n\t\t\t\t\tform.get(namespace + 'redirect').val(redirectUrl);\n\n\t\t\t\t\tvar bulkSelection =\n\t\t\t\t\t\tinstance._searchContainer.select &&\n\t\t\t\t\t\tinstance._searchContainer.select.get('bulkSelection');\n\n\t\t\t\t\tform.get(namespace + 'selectAll').val(bulkSelection);\n\n\t\t\t\t\tsubmitForm(form, url, false);\n\t\t\t\t},\n\n\t\t\t\tdestructor() {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tA.Array.invoke(instance._eventHandles, 'detach');\n\n\t\t\t\t\tinstance._documentLibraryContainer.purge(true);\n\t\t\t\t},\n\n\t\t\t\tgetFolderId() {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\treturn instance._folderId;\n\t\t\t\t},\n\n\t\t\t\thandleActionItemClicked(event) {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar action = event.data.item.data.action;\n\n\t\t\t\t\tvar namespace = instance.NS;\n\n\t\t\t\t\tvar url = instance.get('editEntryUrl');\n\n\t\t\t\t\tif (action === 'editTags') {\n\t\t\t\t\t\tinstance._openModalTags();\n\n\t\t\t\t\t\taction = null;\n\t\t\t\t\t}\n\t\t\t\t\telse if (action === 'editCategories') {\n\t\t\t\t\t\tinstance._openModalCategories();\n\n\t\t\t\t\t\taction = null;\n\t\t\t\t\t}\n\t\t\t\t\telse if (action === 'move' || action === 'moveEntries') {\n\t\t\t\t\t\tinstance._openModalMove();\n\n\t\t\t\t\t\taction = null;\n\t\t\t\t\t}\n\t\t\t\t\telse if (action === 'download') {\n\t\t\t\t\t\turl = instance.get('downloadEntryUrl');\n\t\t\t\t\t}\n\t\t\t\t\telse if (action === 'deleteEntries') {\n\t\t\t\t\t\tif (instance.get('trashEnabled')) {\n\t\t\t\t\t\t\taction = 'move_to_trash';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (\n\t\t\t\t\t\t\tconfirm(\n\t\t\t\t\t\t\t\tLiferay.Language.get(\n\t\t\t\t\t\t\t\t\t'are-you-sure-you-want-to-delete-the-selected-entries'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\taction = 'delete';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\taction = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (action === 'checkin') {\n\t\t\t\t\t\tLiferay.DocumentLibraryCheckin.showDialog(\n\t\t\t\t\t\t\tnamespace,\n\t\t\t\t\t\t\t(versionIncrease, changeLog) => {\n\t\t\t\t\t\t\t\tvar form = instance.get('form').node;\n\n\t\t\t\t\t\t\t\tform.get(namespace + 'changeLog').val(\n\t\t\t\t\t\t\t\t\tchangeLog\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tform.get(namespace + 'versionIncrease').val(\n\t\t\t\t\t\t\t\t\tversionIncrease\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tinstance._processAction('checkin', url);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\taction = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (action) {\n\t\t\t\t\t\tinstance._processAction(action, url);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\thandleCreationMenuMoreButtonClicked(event) {\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tLiferay.Util.openWindow({\n\t\t\t\t\t\tdialog: {\n\t\t\t\t\t\t\tdestroyOnHide: true,\n\t\t\t\t\t\t\tmodal: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tid: instance.ns('selectAddMenuItem'),\n\t\t\t\t\t\ttitle: Liferay.Language.get('more'),\n\t\t\t\t\t\turi: instance.get('openViewMoreFileEntryTypesURL')\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\thandleFilterItemClicked(event) {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar itemData = event.data.item.data;\n\n\t\t\t\t\tif (itemData.action === 'openDocumentTypesSelector') {\n\t\t\t\t\t\tLiferay.Loader.require(\n\t\t\t\t\t\t\t'frontend-js-web/liferay/ItemSelectorDialog.es',\n\t\t\t\t\t\t\tItemSelectorDialog => {\n\t\t\t\t\t\t\t\tvar itemSelectorDialog = new ItemSelectorDialog.default(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tbuttonAddLabel: Liferay.Language.get(\n\t\t\t\t\t\t\t\t\t\t\t'select'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\teventName: instance.ns(\n\t\t\t\t\t\t\t\t\t\t\t'selectFileEntryType'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\ttitle: Liferay.Language.get(\n\t\t\t\t\t\t\t\t\t\t\t'select-document-type'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\turl: instance.get(\n\t\t\t\t\t\t\t\t\t\t\t'selectFileEntryTypeURL'\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\titemSelectorDialog.open();\n\n\t\t\t\t\t\t\t\titemSelectorDialog.on(\n\t\t\t\t\t\t\t\t\t'selectedItemChange',\n\t\t\t\t\t\t\t\t\tevent => {\n\t\t\t\t\t\t\t\t\t\tvar selectedItem = event.selectedItem;\n\n\t\t\t\t\t\t\t\t\t\tif (selectedItem) {\n\t\t\t\t\t\t\t\t\t\t\tvar uri = instance.get(\n\t\t\t\t\t\t\t\t\t\t\t\t'viewFileEntryTypeURL'\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\turi = Liferay.Util.addParams(\n\t\t\t\t\t\t\t\t\t\t\t\tinstance.ns(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'fileEntryTypeId='\n\t\t\t\t\t\t\t\t\t\t\t\t) + selectedItem,\n\t\t\t\t\t\t\t\t\t\t\t\turi\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\tlocation.href = uri;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tinitializer(config) {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar eventHandles = [];\n\n\t\t\t\t\tvar documentLibraryContainer = instance.byId(\n\t\t\t\t\t\t'documentLibraryContainer'\n\t\t\t\t\t);\n\n\t\t\t\t\tinstance._documentLibraryContainer = documentLibraryContainer;\n\n\t\t\t\t\tinstance._eventDataRequest = instance.ns('dataRequest');\n\t\t\t\t\tinstance._entriesContainer = instance.byId(\n\t\t\t\t\t\t'entriesContainer'\n\t\t\t\t\t);\n\n\t\t\t\t\tvar namespace = instance.NS;\n\n\t\t\t\t\tvar searchContainer = Liferay.SearchContainer.get(\n\t\t\t\t\t\tnamespace + instance.get('searchContainerId')\n\t\t\t\t\t);\n\n\t\t\t\t\tsearchContainer.registerAction(\n\t\t\t\t\t\t'move-to-folder',\n\t\t\t\t\t\tA.bind('_moveToFolder', instance)\n\t\t\t\t\t);\n\t\t\t\t\tsearchContainer.registerAction(\n\t\t\t\t\t\t'move-to-trash',\n\t\t\t\t\t\tA.bind('_moveToTrash', instance)\n\t\t\t\t\t);\n\t\t\t\t\teventHandles.push(\n\t\t\t\t\t\tsearchContainer.on(\n\t\t\t\t\t\t\t'rowToggled',\n\t\t\t\t\t\t\tthis._handleSearchContainerRowToggled,\n\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tinstance._searchContainer = searchContainer;\n\n\t\t\t\t\tvar foldersConfig = config.folders;\n\n\t\t\t\t\tinstance._folderId = foldersConfig.defaultParentFolderId;\n\n\t\t\t\t\tinstance._config = config;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tconfig.uploadable &&\n\t\t\t\t\t\tHTML5_UPLOAD &&\n\t\t\t\t\t\tthemeDisplay.isSignedIn() &&\n\t\t\t\t\t\tinstance._entriesContainer.inDoc()\n\t\t\t\t\t) {\n\t\t\t\t\t\tconfig.appViewEntryTemplates = instance.byId(\n\t\t\t\t\t\t\t'appViewEntryTemplates'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\teventHandles.push(\n\t\t\t\t\t\t\tA.getDoc().once(\n\t\t\t\t\t\t\t\t'dragenter',\n\t\t\t\t\t\t\t\tinstance._plugUpload,\n\t\t\t\t\t\t\t\tinstance,\n\t\t\t\t\t\t\t\tconfig\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tinstance._eventHandles = eventHandles;\n\t\t\t\t},\n\n\t\t\t\tshowFolderDialog(selectedItems, parameterName, parameterValue) {\n\t\t\t\t\tvar instance = this;\n\n\t\t\t\t\tvar namespace = instance.NS;\n\n\t\t\t\t\tvar dialogTitle = '';\n\n\t\t\t\t\tif (selectedItems == 1) {\n\t\t\t\t\t\tdialogTitle = Liferay.Language.get(\n\t\t\t\t\t\t\t'select-destination-folder-for-x-item'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tdialogTitle = Liferay.Language.get(\n\t\t\t\t\t\t\t'select-destination-folder-for-x-items'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tLiferay.Util.selectEntity(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdialog: {\n\t\t\t\t\t\t\t\tconstrain: true,\n\t\t\t\t\t\t\t\tdestroyOnHide: true,\n\t\t\t\t\t\t\t\tmodal: true,\n\t\t\t\t\t\t\t\twidth: 680\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tid: namespace + 'selectFolder',\n\t\t\t\t\t\t\ttitle: Lang.sub(dialogTitle, [selectedItems]),\n\t\t\t\t\t\t\turi: instance.get('selectFolderURL')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tevent => {\n\t\t\t\t\t\t\tif (parameterName && parameterValue) {\n\t\t\t\t\t\t\t\tinstance._moveSingleElement(\n\t\t\t\t\t\t\t\t\tevent.folderid,\n\t\t\t\t\t\t\t\t\tparameterName,\n\t\t\t\t\t\t\t\t\tparameterValue\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tinstance._moveCurrentSelection(event.folderid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tLiferay.Portlet.DocumentLibrary = DocumentLibrary;\n\t},\n\t'',\n\t{\n\t\trequires: [\n\t\t\t'document-library-checkin',\n\t\t\t'document-library-upload',\n\t\t\t'liferay-message',\n\t\t\t'liferay-portlet-base'\n\t\t]\n\t}\n);\n"],"file":"main.js"}