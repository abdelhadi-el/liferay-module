{"version":3,"sources":["good-listener.js"],"names":["f","exports","module","define","amd","g","window","global","self","listen","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","nodeType","parentNode","listener","type","callback","delegateTarget","target","delegate","useCapture","listenerFn","apply","arguments","addEventListener","destroy","removeEventListener","node","value","undefined","HTMLElement","nodeList","Object","toString","string","String","fn","is","listenNode","listenNodeList","Array","forEach","listenSelector","document","body","TypeError"],"mappings":"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","file":"good-listener.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.listen = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (element.matches(selector)) return element;\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n},{}],2:[function(require,module,exports){\nvar closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n},{\"./closest\":1}],3:[function(require,module,exports){\n/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n\n},{}],4:[function(require,module,exports){\nvar is = require('./is');\nvar delegate = require('delegate');\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n\n},{\"./is\":3,\"delegate\":2}]},{},[4])(4)\n});"]}