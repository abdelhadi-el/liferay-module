{"version":3,"sources":["tinyemitter.js"],"names":["f","exports","module","define","amd","g","window","global","self","TinyEmitter","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","E","prototype","on","name","callback","ctx","push","fn","once","listener","off","apply","arguments","_","emit","data","slice","evtArr","len","evts","liveEvents"],"mappings":"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","file":"tinyemitter.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.TinyEmitter = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n\n},{}]},{},[1])(1)\n});"]}